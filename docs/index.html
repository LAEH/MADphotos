<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MADphotos</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23111'/></svg>">
<style>
/* ═══════════════════════════════════════════════════════════
   DESIGN TOKENS — Apple Human Interface Guidelines
   ═══════════════════════════════════════════════════════════ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root {
  --font-sans: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", system-ui, sans-serif;
  --font-display: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", system-ui, sans-serif;
  --font-mono: "SF Mono", ui-monospace, "Cascadia Code", monospace;
  --text-xs: 11px; --text-sm: 13px; --text-base: 15px; --text-lg: 17px;
  --text-xl: 20px; --text-2xl: 22px; --text-3xl: 28px; --text-4xl: 34px;
  --leading-tight: 1.2; --leading-normal: 1.47; --leading-relaxed: 1.6;
  --tracking-tight: -0.01em; --tracking-caps: 0.06em;
  --space-1: 4px; --space-2: 8px; --space-3: 12px; --space-4: 16px;
  --space-5: 20px; --space-6: 24px; --space-8: 32px; --space-10: 40px;
  --space-12: 48px; --space-16: 64px;
  --radius-sm: 6px; --radius-md: 10px; --radius-lg: 14px; --radius-xl: 20px; --radius-full: 9999px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
  --ease-default: cubic-bezier(0.25, 0.1, 0.25, 1);
  --duration-fast: 150ms; --duration-normal: 250ms;
  --apple-blue: #007AFF; --apple-green: #34C759; --apple-indigo: #5856D6;
  --apple-orange: #FF9500; --apple-pink: #FF2D55; --apple-purple: #AF52DE;
  --apple-teal: #5AC8FA; --apple-brown: #A2845E;
  --sidebar-w: 220px;
}

[data-theme="light"] {
  --bg: #F5F5F7; --bg-secondary: #FFFFFF; --fg: #1D1D1F;
  --fg-secondary: #3A3A3C; --muted: #86868B;
  --border: rgba(0,0,0,0.08); --border-strong: rgba(0,0,0,0.14);
  --card-bg: #FFFFFF; --sidebar-bg: #FFFFFF;
  --sidebar-active-bg: rgba(0,0,0,0.04);
  --hover-overlay: rgba(0,0,0,0.03);
  color-scheme: light;
}
[data-theme="dark"] {
  --bg: #1C1C1E; --bg-secondary: #2C2C2E; --fg: #F5F5F7;
  --fg-secondary: #D1D1D6; --muted: #98989D;
  --border: rgba(255,255,255,0.08); --border-strong: rgba(255,255,255,0.14);
  --card-bg: #2C2C2E; --sidebar-bg: #2C2C2E;
  --sidebar-active-bg: rgba(255,255,255,0.06);
  --hover-overlay: rgba(255,255,255,0.04);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.3);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.4);
  color-scheme: dark;
}

html { scroll-behavior: smooth; }
body {
  font-family: var(--font-sans); font-size: var(--text-base);
  line-height: var(--leading-normal); background: var(--bg); color: var(--fg);
  display: flex; min-height: 100vh; -webkit-font-smoothing: antialiased;
}
a { color: var(--apple-blue); text-decoration: none; }
a:hover { text-decoration: underline; }

/* ═══ SIDEBAR ═══ */
.sidebar {
  width: var(--sidebar-w); min-width: var(--sidebar-w);
  background: var(--sidebar-bg); border-right: 1px solid var(--border);
  padding: var(--space-5) 0; position: sticky; top: 0; height: 100vh;
  overflow-y: auto; display: flex; flex-direction: column;
  transition: width var(--duration-normal) var(--ease-default),
              min-width var(--duration-normal) var(--ease-default);
}
.sidebar .sb-title {
  font-family: var(--font-display); font-size: var(--text-lg); font-weight: 700;
  letter-spacing: var(--tracking-tight);
  padding: 0 var(--space-5) var(--space-4);
  border-bottom: 1px solid var(--border); margin-bottom: var(--space-2);
  white-space: nowrap; overflow: hidden;
}
.sidebar a {
  display: flex; align-items: center; gap: var(--space-2);
  padding: var(--space-2) var(--space-5); color: var(--muted);
  text-decoration: none !important; font-size: var(--text-sm);
  transition: background var(--duration-fast), color var(--duration-fast);
  white-space: nowrap; overflow: hidden;
}
.sidebar a:hover { background: var(--sidebar-active-bg); color: var(--fg); }
.sidebar a.active {
  color: var(--fg); font-weight: 600; background: var(--sidebar-active-bg);
  border-left: 3px solid var(--apple-blue);
  padding-left: calc(var(--space-5) - 3px);
}
.sidebar .sb-sep { height: 1px; background: var(--border); margin: var(--space-2) var(--space-5); }
.sidebar .sb-group {
  font-size: var(--text-xs); font-weight: 600; text-transform: uppercase;
  letter-spacing: var(--tracking-caps); color: var(--muted);
  padding: var(--space-3) var(--space-5) var(--space-1);
  white-space: nowrap; overflow: hidden;
}
.sidebar .sb-bottom {
  margin-top: auto; padding: var(--space-3) var(--space-5);
  border-top: 1px solid var(--border);
}
.theme-toggle {
  display: flex; align-items: center; gap: var(--space-2);
  font-size: var(--text-sm); color: var(--muted); cursor: pointer;
  padding: var(--space-2) 0; background: none; border: none;
  font-family: inherit; width: 100%; transition: color var(--duration-fast);
  white-space: nowrap; overflow: hidden;
}
.theme-toggle:hover { color: var(--fg); }
.sb-hamburger {
  display: none; align-items: center; justify-content: center;
  width: 36px; height: 36px; background: none; border: none;
  cursor: pointer; color: var(--fg); font-size: 20px;
  border-radius: var(--radius-sm); flex-shrink: 0;
}
.sb-collapse {
  display: flex; align-items: center; gap: var(--space-2);
  font-size: var(--text-sm); color: var(--muted); cursor: pointer;
  padding: var(--space-2) 0; background: none; border: none;
  font-family: inherit; width: 100%; transition: color var(--duration-fast);
  margin-bottom: var(--space-2); white-space: nowrap; overflow: hidden;
}
.sb-collapse:hover { color: var(--fg); }
.sb-expand {
  display: none; position: fixed; top: var(--space-4); left: var(--space-4);
  z-index: 50; width: 36px; height: 36px; border-radius: var(--radius-sm);
  border: 1px solid var(--border); background: var(--card-bg);
  cursor: pointer; color: var(--muted); box-shadow: var(--shadow-md);
  align-items: center; justify-content: center; font-size: 18px;
  transition: color var(--duration-fast), box-shadow var(--duration-fast);
}
.sb-expand:hover { color: var(--fg); box-shadow: var(--shadow-lg); }

/* Collapsed state — desktop only */
body.sb-collapsed .sidebar {
  width: 0; min-width: 0; overflow: hidden; padding: 0; border-right: none;
}
body.sb-collapsed .sb-expand { display: flex; }

/* ═══ MOBILE ═══ */
@media (max-width: 900px) {
  body { flex-direction: column; }
  body.sb-collapsed .sidebar {
    width: 100%; min-width: unset; overflow: visible; padding: var(--space-2) var(--space-3);
    border-right: none; border-bottom: 1px solid var(--border);
  }
  body.sb-collapsed .sb-expand { display: none; }
  .sb-collapse { display: none !important; }
  .sidebar {
    width: 100%; min-width: unset; height: auto; position: sticky; top: 0;
    z-index: 100; border-right: none; border-bottom: 1px solid var(--border);
    flex-direction: row; flex-wrap: wrap; gap: 0; padding: var(--space-2) var(--space-3);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    background: color-mix(in srgb, var(--sidebar-bg) 85%, transparent);
  }
  .sidebar .sb-title { width: auto; border-bottom: none; padding: 0 var(--space-2) 0 0; margin-bottom: 0; font-size: var(--text-base); }
  .sb-hamburger { display: flex; margin-left: auto; }
  .sidebar > a, .sidebar .sb-group, .sidebar .sb-sep, .sidebar .sb-bottom { display: none; }
  .sidebar.open > a { display: flex; width: 100%; }
  .sidebar.open .sb-sep { display: block; width: 100%; }
  .sidebar.open .sb-bottom { display: block; width: 100%; }
}

/* ═══ MAIN CONTENT ═══ */
.main-content {
  flex: 1; padding: var(--space-4); max-width: 900px; min-width: 0; margin: 0 auto; width: 100%;
}
@media (min-width: 901px) { .main-content { padding: var(--space-10) var(--space-8); } }

/* ═══ HERO BANNER ═══ */
.hero-banner {
  display: flex; align-items: stretch; gap: var(--space-8);
  margin-bottom: var(--space-10);
}
.hero-text { flex: 1; display: flex; flex-direction: column; justify-content: center; }
.hero-count {
  font-family: var(--font-display); font-size: 72px; font-weight: 800;
  letter-spacing: -0.03em; line-height: 1; margin-bottom: 4px;
}
.hero-label {
  font-family: var(--font-display); font-size: var(--text-xl); font-weight: 500;
  color: var(--muted); margin-bottom: var(--space-6);
}
.hero-tagline {
  font-size: var(--text-base); line-height: var(--leading-relaxed);
  color: var(--fg-secondary); margin-bottom: var(--space-4); max-width: 540px;
}
.hero-tagline em { color: var(--fg); font-style: normal; font-weight: 600; }
.hero-mission {
  font-size: var(--text-base); line-height: var(--leading-relaxed);
  color: var(--fg); max-width: 540px; font-weight: 700;
}
.hero-mission em { color: var(--fg-secondary); font-style: italic; }
.hero-game-on {
  font-size: var(--text-sm); color: var(--muted); margin-top: var(--space-2);
  letter-spacing: var(--tracking-caps); text-transform: uppercase; font-weight: 600;
}
.hero-mosaic {
  width: 300px; flex-shrink: 0; border-radius: var(--radius-xl);
  overflow: hidden; box-shadow: var(--shadow-lg);
}
.hero-mosaic img { width: 100%; height: 100%; object-fit: cover; display: block; }

@media (max-width: 700px) {
  .hero-banner { flex-direction: column; gap: var(--space-5); }
  .hero-count { font-size: 48px; }
  .hero-mosaic { width: 100%; height: 200px; order: -1; border-radius: var(--radius-lg); }
}
@media (min-width: 960px) {
  .hero-count { font-size: 80px; }
  .hero-mosaic { width: 340px; }
}

/* ═══ NAV CARDS ═══ */
.nav-grid {
  display: grid; grid-template-columns: 1fr; gap: var(--space-3);
  margin-bottom: var(--space-12);
}
.nav-card {
  display: block; background: var(--card-bg); border: 1px solid var(--border);
  border-radius: var(--radius-lg); padding: var(--space-5);
  text-decoration: none !important; position: relative; overflow: hidden;
  transition: box-shadow var(--duration-normal), transform var(--duration-normal);
  box-shadow: var(--shadow-sm);
}
.nav-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; }
.nav-card:hover { box-shadow: var(--shadow-lg); transform: translateY(-1px); }
.nav-card-tag {
  font-size: var(--text-xs); font-weight: 700; text-transform: uppercase;
  letter-spacing: var(--tracking-caps); color: var(--muted); margin-bottom: var(--space-2);
}
.nav-card-title {
  font-family: var(--font-display); font-size: var(--text-xl); font-weight: 700;
  color: var(--fg); letter-spacing: var(--tracking-tight); margin-bottom: var(--space-1);
}
.nav-card-desc { font-size: var(--text-sm); line-height: var(--leading-relaxed); color: var(--fg-secondary); }
.nav-card-accent::before { background: var(--apple-blue); }
.nav-card-accent .nav-card-tag { color: var(--apple-blue); }
.nav-card-green::before { background: var(--apple-green); }
.nav-card-green .nav-card-tag { color: var(--apple-green); }
.nav-card-purple::before { background: var(--apple-purple); }
.nav-card-purple .nav-card-tag { color: var(--apple-purple); }

@media (min-width: 640px) { .nav-grid { grid-template-columns: 1fr 1fr; } }
@media (min-width: 960px) { .nav-grid { grid-template-columns: repeat(3, 1fr); } }

/* ═══ SECTIONS ═══ */
.section { margin-bottom: var(--space-12); }
.section-label {
  font-size: var(--text-xs); font-weight: 700; text-transform: uppercase;
  letter-spacing: var(--tracking-caps); color: var(--muted); margin-bottom: var(--space-3);
}
.section-heading {
  font-family: var(--font-display); font-size: var(--text-2xl); font-weight: 700;
  letter-spacing: var(--tracking-tight); margin-bottom: var(--space-5);
  padding-bottom: var(--space-3); border-bottom: 1px solid var(--border);
}
@media (min-width: 640px) { .section-heading { font-size: var(--text-3xl); } }

/* ═══ LISTS ═══ */
.item-list { list-style: none; }
.item-row {
  display: flex; justify-content: space-between; align-items: baseline;
  padding: var(--space-3) 0; border-bottom: 1px solid var(--border);
}
.item-row:last-child { border-bottom: none; }
.item-name { font-weight: 600; font-size: var(--text-sm); }
.item-desc { font-size: var(--text-xs); color: var(--fg-secondary); margin-top: 2px; }
.item-count {
  font-family: var(--font-mono); font-size: var(--text-sm);
  font-variant-numeric: tabular-nums; color: var(--fg-secondary);
  white-space: nowrap; margin-left: var(--space-4);
}
.format-line { margin-top: var(--space-5); font-size: var(--text-sm); color: var(--fg-secondary); }
.format-line strong { color: var(--fg); font-weight: 600; }

/* ═══ PIPELINE ═══ */
.pipeline-list { list-style: none; counter-reset: step; }
.pipeline-item {
  counter-increment: step; position: relative;
  padding: var(--space-3) 0 var(--space-3) 44px;
  border-bottom: 1px solid var(--border);
}
.pipeline-item:last-child { border-bottom: none; }
.pipeline-item::before {
  content: counter(step); position: absolute; left: 0; top: var(--space-3);
  width: 28px; height: 28px; border-radius: var(--radius-full);
  background: var(--card-bg); border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-family: var(--font-mono); font-size: var(--text-xs); font-weight: 700;
  color: var(--fg-secondary);
}
.pipeline-name { font-weight: 600; font-size: var(--text-sm); margin-bottom: 2px; }
.pipeline-desc { font-size: var(--text-xs); color: var(--fg-secondary); line-height: var(--leading-relaxed); }
.pipeline-file { font-family: var(--font-mono); font-size: 11px; color: var(--muted); margin-top: 2px; }

/* ═══ INFRA ═══ */
.infra-grid { display: grid; grid-template-columns: 1fr; gap: var(--space-3); }
.infra-item {
  background: var(--card-bg); border: 1px solid var(--border);
  border-radius: var(--radius-md); padding: var(--space-4) var(--space-5);
  box-shadow: var(--shadow-sm);
}
.infra-label {
  font-size: var(--text-xs); font-weight: 700; text-transform: uppercase;
  letter-spacing: var(--tracking-caps); color: var(--muted); margin-bottom: 2px;
}
.infra-value { font-size: var(--text-sm); color: var(--fg); }
.infra-value code {
  font-family: var(--font-mono); font-size: var(--text-xs);
  color: var(--fg-secondary); background: var(--hover-overlay);
  padding: 2px 6px; border-radius: 4px;
}
@media (min-width: 640px) { .infra-grid { grid-template-columns: 1fr 1fr; } }
@media (min-width: 960px) { .infra-grid { grid-template-columns: repeat(3, 1fr); } }

/* ═══ MODEL PILLS ═══ */
.model-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); margin-top: var(--space-4); }
.model-pill {
  background: var(--card-bg); border: 1px solid var(--border);
  border-radius: var(--radius-md); padding: var(--space-2) var(--space-3);
  font-size: var(--text-xs); font-weight: 600; color: var(--fg-secondary);
}
@media (min-width: 640px) { .model-grid { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 960px) { .model-grid { grid-template-columns: repeat(5, 1fr); } }

/* ═══ FOOTER ═══ */
.site-footer {
  margin-top: var(--space-16); padding-top: var(--space-4);
  border-top: 1px solid var(--border);
  font-size: var(--text-xs); color: var(--muted); text-align: center;
  padding-bottom: var(--space-8);
}
.site-footer a { color: var(--muted); text-decoration: none; }
.site-footer a:hover { color: var(--fg); }
</style>
</head>
<body>

<!-- Expand button (visible only when sidebar collapsed on desktop) -->
<button class="sb-expand" onclick="toggleSidebar()" title="Show sidebar">&#9776;</button>

<!-- ═══ SIDEBAR ═══ -->
<nav class="sidebar" id="sidebar">
  <div class="sb-title">MADphotos</div>
  <button class="sb-hamburger" onclick="document.getElementById('sidebar').classList.toggle('open')" aria-label="Menu">&#9776;</button>
  <a href="index.html" class="active">README</a>
  <a href="state.html">State</a>
  <a href="journal.html">Journal de Bord</a>
  <a href="instructions.html">System Instructions</a>
  <div class="sb-sep"></div>
  <div class="sb-group">Experiments</div>
  <a href="drift.html">Drift</a>
  <a href="blind-test.html">Blind Test</a>
  <a href="mosaics.html">Mosaics</a>
  <div class="sb-bottom">
    <button class="sb-collapse" onclick="toggleSidebar()">&#x276E; Hide sidebar</button>
    <button class="theme-toggle" onclick="toggleTheme()" id="themeBtn">
      <span id="themeIcon">&#9790;</span>
      <span id="themeLabel">Dark Mode</span>
    </button>
  </div>
</nav>

<div class="main-content">

<!-- ═══ HERO BANNER ═══ -->
<div class="hero-banner">
  <div class="hero-text">
    <div class="hero-count">9,011</div>
    <div class="hero-label">photographs, unedited</div>
    <p class="hero-tagline">
      Shot over a decade on <em>Leica rangefinders</em>, a monochrome sensor with no Bayer filter, scanned analog film, and pocket action cameras. Most have never been seen by anyone.
    </p>
    <p class="hero-mission">
      Leverage all AIs &mdash; Claude Code, CV models, Gemini APIs &mdash; to create engaging, playful, elegant, smart, teasing, revealing, exciting experiences on screens.
    </p>
    <p class="hero-game-on">Game is ON.
    </p>
  </div>
  <div class="hero-mosaic">
    <img src="hero-mosaic.jpg" alt="Mosaic of 9,011 photographs arranged by brightness" loading="eager">
  </div>
</div>


<!-- ═══ THE COLLECTION ═══ -->
<div class="section">
  <div class="section-label">The Collection</div>
  <h2 class="section-heading">Five cameras, one decade</h2>
  <ul class="item-list">
    <li class="item-row">
      <div><div class="item-name">Leica M8</div><div class="item-desc">Digital CCD sensor, IR-sensitive</div></div>
      <div class="item-count">3,533</div>
    </li>
    <li class="item-row">
      <div><div class="item-name">DJI Osmo Pro</div><div class="item-desc">Action camera, digital sensor</div></div>
      <div class="item-count">3,032</div>
    </li>
    <li class="item-row">
      <div><div class="item-name">Leica MP</div><div class="item-desc">Analog &mdash; Kodak Portra 400 VC / B&amp;W film, scanned</div></div>
      <div class="item-count">1,126</div>
    </li>
    <li class="item-row">
      <div><div class="item-name">Leica Monochrom</div><div class="item-desc">Pure B&amp;W sensor &mdash; no Bayer filter</div></div>
      <div class="item-count">1,099</div>
    </li>
    <li class="item-row">
      <div><div class="item-name">Canon G12 &amp; Osmo Memo</div><div class="item-desc">Compact digital + pocket action camera</div></div>
      <div class="item-count">221</div>
    </li>
  </ul>
  <p class="format-line"><strong>5,138</strong> JPEG + <strong>3,841</strong> DNG + <strong>32</strong> RAW = <strong>9,011</strong> source images</p>
</div>

<!-- ═══ THREE APPS ═══ -->
<div class="section">
  <div class="section-label">Three Apps</div>
  <h2 class="section-heading">See. Show. State.</h2>
  <ul class="item-list">
    <li class="item-row" style="flex-direction:column;align-items:flex-start;gap:4px">
      <div class="item-name">See</div>
      <div class="item-desc" style="margin-top:0">The private power tool. A native macOS SwiftUI app for exploring, curating, and editing the collection. Browse by camera, vibe, time of day, aesthetic score. Keep or reject with a keystroke. Toggle between original and enhanced. Every decision flows back into the database.</div>
    </li>
    <li class="item-row" style="flex-direction:column;align-items:flex-start;gap:4px">
      <div class="item-name">Show</div>
      <div class="item-desc" style="margin-top:0">The public experience. Three web viewing modes: <strong>La Grille</strong> (filterable grid), <strong>La D&eacute;rive</strong> (semantic drift via DINOv2, SigLIP, CLIP), <strong>Les Couleurs</strong> (color space exploration). Only accepted images shown.</div>
    </li>
    <li class="item-row" style="flex-direction:column;align-items:flex-start;gap:4px">
      <div class="item-name">State</div>
      <div class="item-desc" style="margin-top:0">The system dashboard. Every pipeline, signal, and model in real-time. Progress bars, camera fleet statistics, enhancement metrics, vector store health.</div>
    </li>
  </ul>
</div>

<!-- ═══ THE PIPELINE ═══ -->
<div class="section">
  <div class="section-label">The Pipeline</div>
  <h2 class="section-heading">Nine stages, per-image intelligence</h2>
  <ol class="pipeline-list">
    <li class="pipeline-item">
      <div class="pipeline-name">Render</div>
      <div class="pipeline-desc">6-tier resolution pyramid per image (64px to 3840px), plus 4-tier for AI variants.</div>
      <div class="pipeline-file">render_pipeline.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Analyze</div>
      <div class="pipeline-desc">Gemini 2.5 Pro structured analysis: vibes, exposure, composition, color grading, per-image edit instructions.</div>
      <div class="pipeline-file">photography_engine.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Pixel Metrics</div>
      <div class="pipeline-desc">Luminance, white balance shift, noise levels, clipping, contrast ratio, color temperature.</div>
      <div class="pipeline-file">image_analysis.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Vectors</div>
      <div class="pipeline-desc">Three embedding models (DINOv2, SigLIP, CLIP) into LanceDB for similarity search.</div>
      <div class="pipeline-file">vector_engine.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Signals</div>
      <div class="pipeline-desc">EXIF metadata, dominant colors (K-means in LAB), face detection (YuNet), object detection (YOLOv8n), perceptual hashes.</div>
      <div class="pipeline-file">signal_extraction.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Advanced Signals</div>
      <div class="pipeline-desc">Aesthetic scoring, depth estimation, scene/style classification, OCR, captions, facial emotions.</div>
      <div class="pipeline-file">advanced_signals.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Enhance</div>
      <div class="pipeline-desc">Camera-aware per-image enhancement: WB, exposure, shadows/highlights, contrast, saturation, sharpening.</div>
      <div class="pipeline-file">enhance_engine.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Variants</div>
      <div class="pipeline-desc">4 AI variants via Imagen 3: gemini_edit, pro_edit, nano_feel, cartoon.</div>
      <div class="pipeline-file">imagen_engine.py</div>
    </li>
    <li class="pipeline-item">
      <div class="pipeline-name">Sync</div>
      <div class="pipeline-desc">Upload to Google Cloud Storage. Track public URLs in the database.</div>
      <div class="pipeline-file">gcs_sync.py</div>
    </li>
  </ol>
</div>

<!-- ═══ INFRASTRUCTURE ═══ -->
<div class="section">
  <div class="section-label">Infrastructure</div>
  <h2 class="section-heading">Under the hood</h2>
  <div class="infra-grid">
    <div class="infra-item">
      <div class="infra-label">Database</div>
      <div class="infra-value">SQLite &mdash; 23 tables</div>
    </div>
    <div class="infra-item">
      <div class="infra-label">Vector Store</div>
      <div class="infra-value">LanceDB &mdash; 9,011 &times; 3</div>
    </div>
    <div class="infra-item">
      <div class="infra-label">Cloud</div>
      <div class="infra-value"><code>gs://myproject-public-assets/</code></div>
    </div>
    <div class="infra-item">
      <div class="infra-label">Platform</div>
      <div class="infra-value">macOS, Python 3.9, Apple Silicon</div>
    </div>
    <div class="infra-item">
      <div class="infra-label">AI Engine</div>
      <div class="infra-value">Gemini 2.5 Pro + Imagen 3</div>
    </div>
  </div>
  <div class="section-label" style="margin-top:var(--space-6)">10 Models</div>
  <div class="model-grid">
    <div class="model-pill">Gemini 2.5 Pro</div>
    <div class="model-pill">Imagen 3</div>
    <div class="model-pill">DINOv2</div>
    <div class="model-pill">SigLIP</div>
    <div class="model-pill">CLIP</div>
    <div class="model-pill">YOLOv8n</div>
    <div class="model-pill">YuNet</div>
    <div class="model-pill">BLIP</div>
    <div class="model-pill">Depth Anything v2</div>
    <div class="model-pill">Places365</div>
  </div>
</div>

<!-- ═══ FOOTER ═══ -->
<footer class="site-footer">
  <a href="https://github.com/LAEH/MADphotos">LAEH/MADphotos</a>
  &nbsp;&middot;&nbsp;
  <a href="state.html">State</a>
  &nbsp;&middot;&nbsp;
  <a href="journal.html">Journal</a>
</footer>

</div><!-- /main-content -->

<script>
/* Theme toggle */
function toggleTheme() {
  var html = document.documentElement;
  var next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
  html.setAttribute("data-theme", next);
  localStorage.setItem("mad-theme", next);
  document.getElementById("themeIcon").innerHTML = next === "dark" ? "&#9728;" : "&#9790;";
  document.getElementById("themeLabel").textContent = next === "dark" ? "Light Mode" : "Dark Mode";
}

/* Sidebar toggle */
function toggleSidebar() {
  document.body.classList.toggle("sb-collapsed");
  localStorage.setItem("mad-sidebar", document.body.classList.contains("sb-collapsed") ? "collapsed" : "expanded");
}

/* Restore persisted state */
(function() {
  var savedTheme = localStorage.getItem("mad-theme");
  if (savedTheme) {
    document.documentElement.setAttribute("data-theme", savedTheme);
    if (savedTheme === "dark") {
      document.getElementById("themeIcon").innerHTML = "&#9728;";
      document.getElementById("themeLabel").textContent = "Light Mode";
    }
  }
  if (localStorage.getItem("mad-sidebar") === "collapsed") {
    document.body.classList.add("sb-collapsed");
  }
})();
</script>
</body>
</html>
